{"version":3,"sources":["webpack:///./src/view/auth/index.tsx","webpack:///./src/view/auth/clear.tsx"],"names":["jumpRouterInfo","defineComponent","name","setup","props","context","routerInfo","useRouter","onMounted","currentRoute","beforeRouterInfo","router","currentRouteFromQuery","query","decodeURIComponent","JSON","parse","err","console","warn","Object","keys","length","hasOwnProperty","call","replace","jumpBack","tokenHandle","clearAllToken","Router"],"mappings":"sIAGIA,EAAiB,GAENC,sBAAgB,CAC7BC,KAAM,MACNC,MAF6B,SAEvBC,EAAOC,GACX,IAAMC,EAAaC,cAkDnB,OAJAC,aAAU,YA5CO,WACf,IAAIC,EAAe,GACfC,EAAmB,CACrBR,KAAM,QAIR,GAAII,EAAY,KACNK,EAAWL,EAAXK,OAER,GAAIA,EAAQ,CACV,IAAIC,EAAwBD,EAAOF,aAAaI,MAAMJ,aACtD,GAAqC,iBAA1BG,EAAoC,CAC7CA,EAAwBE,mBAAmBF,GAC3C,IACEH,EAAeM,KAAKC,MAAMJ,GAC1B,MAAOK,GACPR,EAAe,GACfS,QAAQC,KAAKF,OAMjBG,OAAOC,KAAKZ,GAAca,SAC5BZ,EAAmBD,GAGjBH,GAAcA,EAAWK,QAEzBS,OAAOG,eAAeC,KAAKxB,EAAgB,cAC3CoB,OAAOG,eAAeC,KAAKd,EAAkB,YAG7CQ,QAAQC,KAAK,SAEbb,EAAWK,OAAOc,QAAQf,GAC1BV,EAAiBU,GAGnBQ,QAAQC,KAAK,QAMfO,MAEK,+CAAc,oB,+ECtDVzB,sBAAgB,CAC7BE,MAD6B,WAE3BK,aAAU,WACRmB,IAAYC,mBAGd,IAAMC,EAAStB,cAEf,OAAO,+CACG,oBADH,iCAGQ,WAAM,MACb,UAAAsB,EAAOlB,cAAP,SAAec,QAAQ,CACrBvB,KAAM,YALT","file":"js/auth.a3d303032f7e494fd78d.js","sourcesContent":["import { defineComponent, onMounted } from '@vue/composition-api';\nimport useRouter from '@/hooks/useRouter';\n\nlet jumpRouterInfo = {};\n\nexport default defineComponent({\n  name: 'App',\n  setup(props, context) {\n    const routerInfo = useRouter();\n\n    const jumpBack = () => {\n      let currentRoute = {};\n      let beforeRouterInfo = {\n        name: 'Home',\n      };\n\n      // STEP: 判断是有通过参数\n      if (routerInfo) {\n        const { router } = routerInfo;\n\n        if (router) {\n          let currentRouteFromQuery = router.currentRoute.query.currentRoute;\n          if (typeof currentRouteFromQuery === 'string') {\n            currentRouteFromQuery = decodeURIComponent(currentRouteFromQuery);\n            try {\n              currentRoute = JSON.parse(currentRouteFromQuery);\n            } catch (err) {\n              currentRoute = {};\n              console.warn(err);\n            }\n          }\n        }\n      }\n\n      if (Object.keys(currentRoute).length) {\n        beforeRouterInfo = currentRoute as { name: string };\n      }\n\n      if (routerInfo && routerInfo.router) {\n        const isSameJumpRouterInfo =\n          Object.hasOwnProperty.call(jumpRouterInfo, 'fullPath') ===\n          Object.hasOwnProperty.call(beforeRouterInfo, 'fullPath');\n\n        if (isSameJumpRouterInfo) {\n          console.warn('无限跳拉');\n        } else {\n          routerInfo.router.replace(beforeRouterInfo);\n          jumpRouterInfo = beforeRouterInfo;\n        }\n      } else {\n        console.warn('没有路由');\n      }\n    };\n\n    onMounted(() => {\n      // STEP: 跳转回原来的\n      jumpBack();\n    });\n    return () => <div id=\"page-auth\" />;\n  },\n});\n","import { defineComponent, onMounted } from '@vue/composition-api';\nimport tokenHandle from '@/libs/token';\nimport useRouter from '@/hooks/useRouter';\n\nexport default defineComponent({\n  setup() {\n    onMounted(() => {\n      tokenHandle.clearAllToken();\n    });\n\n    const Router = useRouter();\n\n    return () => (\n      <div id=\"page-auth_clear\">\n        <button\n          onClick={() => {\n            Router.router?.replace({\n              name: 'Home',\n            });\n          }}\n        >\n          返回首页\n        </button>\n      </div>\n    );\n  },\n});\n"],"sourceRoot":""}